/**
 * @author Kuitos
 * @since 2020-03-02
 */

import { concat, mergeWith } from 'lodash';
import getEngineFlagAddon from './engineFlag';
import getRuntimePublicPathAddOn from './runtimePublicPath';

export default function getAddOns(global, publicPath) {
  const Merged = mergeWith({}, getEngineFlagAddon(global), getRuntimePublicPathAddOn(global, publicPath), (v1, v2) =>
    concat(v1 ?? [], v2 ?? []),
  );
  console.log('ðŸš€ ~ getAddOns ~ Merged:', Merged)
  return Merged
  /* Mergedå¯¹è±¡
  {
    "beforeLoad": [
        Æ’ beforeLoad(),
        Æ’ beforeLoad()
    ],
    "beforeMount": [
        Æ’ beforeMount(),
        Æ’ beforeMount()
    ],
    "beforeUnmount": [
        Æ’ beforeUnmount(),
        Æ’ beforeUnmount()
    ]
  }
  */
}
